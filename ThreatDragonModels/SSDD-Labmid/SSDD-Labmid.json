{
  "version": "2.5.0",
  "summary": {
    "title": "SSDD-Labmid",
    "owner": "zubair",
    "description": " ðŸ§© **High-Level System Description (for OWASP Threat Dragon)**\n\n## **System Name:** Secure Node.js Todo Application (REST API with JWT and MongoDB)\n\n---\n\n### **Overview**\n\nThe system is a **RESTful Todo management backend** built using **Node.js**, **Express.js**, and **MongoDB**.\nIt allows **registered users** to manage their personal task lists (Create, Read, Update, Delete) after authenticating via **JWT tokens**.\nThe backend is exposed via HTTP(S) API endpoints and is secured following **OWASP**, **Secure SDLC**, and **DevSecOps** principles.\n\n---\n\n### **Core Architecture**\n\n1. **Frontend / API Client (External Entity):**\n\n   * A browser, mobile app, or API testing tool (Postman) acts as the client.\n   * It sends HTTPS requests to the backend API for registration, login, and CRUD operations.\n\n2. **Node.js / Express Backend (Process):**\n\n   * Implements business logic for authentication and task management.\n   * Provides two main service layers:\n\n     * **Authentication Service:** Handles user registration, login, and JWT token issuance.\n     * **Todo Service:** Manages CRUD operations on user tasks.\n   * Enforces security middleware for input validation, session management, and error handling.\n\n3. **MongoDB Database (Data Store):**\n\n   * Stores all user data, hashed passwords, and todo task records.\n   * Accessed only by the backend server through a secure connection.\n   * All passwords are stored using **bcrypt hashing**, and sensitive data can be encrypted at rest.\n\n4. **JWT Token Management (Process / Data Flow):**\n\n   * Upon successful login, the server issues a **JWT** signed with a secret key.\n   * Clients attach this token in the `Authorization` header for all subsequent requests.\n   * The server verifies and validates JWTs before granting access to protected resources.\n\n5. **Secrets / Configuration Management (Data Store):**\n\n   * Environment variables store database URIs, JWT secrets, and API keys.\n   * Secrets are **never hardcoded** and are managed via `.env` files or CI/CD secrets vaults.\n\n6. **CI/CD Pipeline (External Process):**\n\n   * GitHub Actions automates linting, testing, and static code analysis (SAST).\n   * Security tools like **CodeQL**, **Snyk**, and **OWASP ZAP** run automatically to detect vulnerabilities before deployment.\n\n7. **Logging and Monitoring (Data Store):**\n\n   * All authentication and CRUD activities are logged securely.\n   * Logs are stored locally or streamed to a centralized log management service.\n   * Sensitive data (passwords, tokens, PII) are never logged.\n\n---\n\n### **Key Data Flows**\n\n| Flow ID | Source         | Destination  | Description                                 | Security Measures                        |\n| ------- | -------------- | ------------ | ------------------------------------------- | ---------------------------------------- |\n| DF1     | User           | Auth Service | Registration/Login request with credentials | HTTPS, Input validation                  |\n| DF2     | Auth Service   | MongoDB      | Store/retrieve user data                    | Encrypted connection, hashed passwords   |\n| DF3     | Auth Service   | User         | Return JWT token upon successful login      | HTTPS, short token lifetime              |\n| DF4     | User           | Todo Service | Authenticated CRUD operations using JWT     | Authorization header verification        |\n| DF5     | Todo Service   | MongoDB      | CRUD actions for todo tasks                 | Input validation, access control         |\n| DF6     | CI/CD Pipeline | Backend      | Automated security scans and deployment     | Secure secrets, code scanning            |\n| DF7     | Backend        | Logs         | Write operational and audit logs            | Sanitized logs, no PII                   |\n| DF8     | Secrets Store  | Backend      | Load configuration and JWT secrets          | Environment variables, restricted access |\n\n---\n\n### **Primary Security Objectives**\n\n* **Confidentiality:** Protect JWTs, user credentials, and environment secrets using encryption and HTTPS.\n* **Integrity:** Prevent data tampering and injection attacks through strict validation and sanitation.\n* **Availability:** Maintain continuous service through rate-limiting, exception handling, and monitoring.\n* **Accountability:** Log all critical actions for auditability.\n* **Privacy:** Minimize user data collection and protect stored data using hashing and encryption.\n\n---\n\n### **Assumptions & Constraints**\n\n* All external communications occur over HTTPS.\n* MongoDB is hosted in a secure environment (local or cloud).\n* API authentication uses JWT with short expiration (e.g., 1 hour).\n* Tokens and secrets are stored securely and never transmitted in plaintext.\n* The system is deployed via Docker or Node runtime in a hardened environment.\n\n---\n\n### **Intended Use in Threat Dragon**\n\nUse this description to:\n\n* Create **External Entities:** User, CI/CD System.\n* Create **Processes:** Authentication Service, Todo Management Service.\n* Create **Data Stores:** MongoDB, Log Files, Secrets Vault.\n* Draw **Data Flows:**\n\n  * User â†’ Auth Service (Login/Register)\n  * Auth Service â†’ MongoDB\n  * Auth Service â†’ User (JWT)\n  * User â†’ Todo Service (CRUD)\n  * Todo Service â†’ MongoDB\n  * Todo Service â†’ Log Files\n  * CI/CD â†’ Backend (Deploy + Scan)\n",
    "id": 0
  },
  "detail": {
    "contributors": [],
    "diagrams": [],
    "diagramTop": 1,
    "reviewer": "shahab",
    "threatTop": 0
  }
}